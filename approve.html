<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="refresh" content="0; url='/published'" />
</head>
<body>
<script>
  // grab ?id=xxxx from querystring
  const params = new URLSearchParams(window.location.search);
  const id = params.get("id");

  // silently call Zapier to approve
  fetch("https://hooks.zapier.com/hooks/catch/19867794/uk51ulv/", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      status: "approved",
      id: id
    })
  }).catch(err => console.warn("Zap background approval failed:", err));

  // Redirect user immediately (no waiting)
  window.location.href = "/published";
</script>
</body>
</html>
